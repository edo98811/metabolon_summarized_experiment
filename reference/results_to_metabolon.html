<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert Results to Metabolon Format — results_to_metabolon • metabolonize</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert Results to Metabolon Format — results_to_metabolon"><meta name="description" content="This function converts differential expression analysis results
(from limma, DESeq2, or custom formats) into a format compatible with Metabolon multi-omics module."><meta property="og:description" content="This function converts differential expression analysis results
(from limma, DESeq2, or custom formats) into a format compatible with Metabolon multi-omics module."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">metabolonize</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/metabolonize.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Convert Results to Metabolon Format</h1>

      <div class="d-none name"><code>results_to_metabolon.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function converts differential expression analysis results
(from limma, DESeq2, or custom formats) into a format compatible with Metabolon multi-omics module.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">results_to_metabolon</span><span class="op">(</span></span>
<span>  <span class="va">table</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"topTable"</span>,</span>
<span>  omics <span class="op">=</span> <span class="st">"Transcriptomics"</span>,</span>
<span>  custom_colnames <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  input_features <span class="op">=</span> <span class="st">"ensembl_id"</span>,</span>
<span>  organism <span class="op">=</span> <span class="st">"Hs"</span>,</span>
<span>  save_file <span class="op">=</span> <span class="cn">T</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-table">table<a class="anchor" aria-label="anchor" href="#arg-table"></a></dt>
<dd><p>A data frame containing the results of differential expression analysis.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>A character string specifying the format of the input table.
Options are "topTable" (limma), "DESeqResults" (DESeq2), "edgeR" (not yet supported),
or "Custom". Default is "topTable".</p></dd>


<dt id="arg-omics">omics<a class="anchor" aria-label="anchor" href="#arg-omics"></a></dt>
<dd><p>A character string specifying the type of omics data. Default is "transcriptomics".</p></dd>


<dt id="arg-custom-colnames">custom_colnames<a class="anchor" aria-label="anchor" href="#arg-custom-colnames"></a></dt>
<dd><p>A character vector specifying custom column names for "Custom" format.
Must include at least "p-value", "FDR", and "FC". Default is NULL.</p></dd>


<dt id="arg-output-file">output_file<a class="anchor" aria-label="anchor" href="#arg-output-file"></a></dt>
<dd><p>A character string specifying the output file path. If NULL and <code>save_file</code> is TRUE,
a default file name will be generated. Default is NULL.</p></dd>


<dt id="arg-input-features">input_features<a class="anchor" aria-label="anchor" href="#arg-input-features"></a></dt>
<dd><p>A character string specifying the type of input features.
Options are "gene_symbol", "uniprot_id", or "ensembl_id". Default is "ensembl_id".</p></dd>


<dt id="arg-organism">organism<a class="anchor" aria-label="anchor" href="#arg-organism"></a></dt>
<dd><p>A character string specifying the organism. Can be "Mm" or "Hs". Default is "Hs" (Homo sapiens).</p></dd>


<dt id="arg-save-file">save_file<a class="anchor" aria-label="anchor" href="#arg-save-file"></a></dt>
<dd><p>A logical value indicating whether to save the output to a file. Default is TRUE. If a path is not provided,
a default filename will be generated based on the current date and saved in the working directory.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame formatted for Metabolon, with columns: Feature, Omics, p-value, FDR, and FC.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function checks the correctness of the input format and ensures that the required
columns are present in the input table. It supports workflows for "topTable" (limma),
"DESeqResults" (DESeq2), and "Custom" formats. The "edgeR" format is not yet supported.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example usage with limma::topTable results</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">limma</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/limma/man/toptable.html" class="external-link">topTable</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in limma::topTable(fit):</span> Need to run eBayes or treat first</span>
<span class="r-in"><span><span class="va">metabolon_results</span> <span class="op">&lt;-</span> <span class="fu">results_to_metabolon</span><span class="op">(</span><span class="va">results</span>, format <span class="op">=</span> <span class="st">"topTable"</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in check_table(table, format):</span> Input 'table' must inherit from class 'data.frame' (or output of limma::topTable).</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example usage with DESeq2::results</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">DESeq2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DESeq2/man/results.html" class="external-link">results</a></span><span class="op">(</span><span class="va">dds</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">metabolon_results</span> <span class="op">&lt;-</span> <span class="fu">results_to_metabolon</span><span class="op">(</span><span class="va">results</span>, format <span class="op">=</span> <span class="st">"DESeqResults"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Saving results to: results_to_metabolon_2025-10-15.csv</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example usage with custom format</span></span></span>
<span class="r-in"><span><span class="va">custom_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  p_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.05</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  FDR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.02</span>, <span class="fl">0.06</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  FC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="op">-</span><span class="fl">1.2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">metabolon_results</span> <span class="op">&lt;-</span> <span class="fu">results_to_metabolon</span><span class="op">(</span><span class="va">custom_results</span>, format <span class="op">=</span> <span class="st">"Custom"</span>, </span></span>
<span class="r-in"><span>                                          custom_colnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"p_value"</span>, <span class="st">"FDR"</span>, <span class="st">"FC"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in check_columns(table, format):</span> The input table is missing the following required columns: p-value</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Edoardo Filippi.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

